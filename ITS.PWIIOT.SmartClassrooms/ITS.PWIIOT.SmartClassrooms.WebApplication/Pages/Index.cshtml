@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<form method="post">
    <div class="row">
        <div class="form-group">
            <label asp-for="Lesson.StartDate">
            </label>
            <input class="form-control" asp-for="Lesson.StartDate" type="datetime-local" value="2011-08-19T13:45:00" id="example-datetime-local-input">
        </div>
        <div class="form-group">
            <label asp-for="Lesson.Duration">
            </label>
            <input asp-for="Lesson.Duration" type="time" class="form-control" />
        </div>
        <select asp-for="Lesson.TeacherId" class="custom-select custom-select-lg mb-3">
            <option selected>Professore</option>
            @foreach (var professore in Model.Teachers)
            {
                <option value=@professore.Id>@professore.Name @professore.Surname</option>
            }
        </select>
        <select asp-for="Lesson.SubjectId" class="custom-select custom-select-lg mb-3">
            <option selected>Materia</option>
            @foreach (var materia in Model.Subjects)
            {
                <option value=@materia.Id>@materia.Name</option>
            }
        </select>
        <select asp-for="Lesson.ClassroomId" class="custom-select custom-select-lg mb-3">
            <option selected>Classe</option>
            @foreach (var classe in Model.Classrooms)
            {
                <option value=@classe.Id>@classe.Name</option>
            }
        </select>
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-dark">Salva</button>
    </div>
</form>
<table class="table">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Orario</th>
            <th scope="col">Materia</th>
            <th scope="col">Insegnante</th>
            <th scope="col">Aula</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var lezione in Model.Lessons)
        {
        <tr>
            <th scope="row">@lezione.Id</th>
            <td>@lezione.StartDate - @lezione.GetEndDate(lezione.Duration)</td>
            <td>@lezione.Subject.Name</td>
            <td>@lezione.Teacher.Name @lezione.Teacher.Surname</td>
            <td>@lezione.Classroom.Name @lezione.Classroom.Name</td>
        </tr>
        }
    </tbody>
</table>


